import{d as E,r as d,a as p,o as l,c as a,b as t,w as v,v as V,t as m,e as y,f as w,F,g as A,h as M,i as U,j as x,k as j,l as S}from"./index.a2f19a38.js";const H=t("label",null,"\u8ACB\u9078\u64C7\u60A8\u7684\u5BF6\u8C9D\u5E74\u9F61\u9032\u884C\u6AA2\u6E2C\uFF1A",-1),O=t("br",null,null,-1),T={class:"form-inline"},Y=t("br",null,null,-1),q={key:0},N=["onSubmit"],I=["value"],K={class:"table table-sm"},R={class:"col-sm-10 d-flex"},P={style:{width:"25px"}},L={style:{width:"25px"}},Q={class:"col-sm-2 d-flex justify-content-center"},X={class:"slist_radio"},$=["id","name","onUpdate:modelValue"],G=["for"],J={class:"slist_radio"},z=["id","name","onUpdate:modelValue"],W=["for"],Z=["disabled"],ee=U(" \u78BA\u8A8D "),te={key:0,class:"spinner-border spinner-border-sm"},ue=E({__name:"KidForm",setup(D){const i=d({});fetch("monthRoot.json").then(o=>o.json()).then(o=>{i.value=o});const c=d(""),r=d([]),_=d([]);function b(){_.value=[],fetch(c.value).then(o=>o.json()).then(o=>{r.value=o.inspectionItems;for(let u in r.value)r.value[u].title=r.value[u].title.replace(/\d+\.(.+)/,"$1")})}const f=d(p().format("YYYY-MM-DD")),C=d("");function g(){console.log(f.value);const u=p().diff(p(f.value))/(1e3*60*60*24);console.log("diffday = "+u);for(const e in i.value)i.value[e].min<=u&&i.value[e].max>=u&&(c.value=e,b());C.value=""+(u/30).toFixed(1)+"\u6708"}const h=d(!1);function B(o){o.preventDefault();const u=new FormData(o.target);let e={};if(u.forEach((n,s,oe)=>e[s]=n.toString()),console.log(e),Object.keys(e).length==0){alert("\u8ACB\u8F38\u5165\u8CC7\u6599");return}k(e)}function k(o){h.value=!0;const u=new Headers;u.append("X-Parse-Application-Id","kYUbkvUsiOYbHlfGTekGVCsdoLgHXglAcQbaO57f"),u.append("X-Parse-REST-API-Key","HBi7YTskQm6k7AcUFIN3Rp5sH2FMKvHbRyfEyr4Q"),u.append("Content-Type","application/json");const e=JSON.stringify(o);fetch("https://kds.b4a.io/classes/KidFrom",{method:"POST",headers:u,body:e}).then(s=>s.text()).then(s=>{console.log(s),j.push("/user")}).catch(s=>console.log("error",s))}return(o,u)=>(l(),a(F,null,[t("div",null,[H,O,t("div",T,[v(t("input",{type:"date",class:"form-control","onUpdate:modelValue":u[0]||(u[0]=e=>f.value=e)},null,512),[[V,f.value]]),t("button",{type:"button",class:"btn btn-secondary",onClick:g},"\u78BA\u5B9A")]),Y,t("label",null,"\u8A66\u7B97\u7D50\u679C\uFF1A"+m(C.value),1)]),c.value?(l(),a("pre",q,`\u5152\u7AE5\u7B26\u5408\u8A72\u9805\u76EE\u63CF\u8FF0\u7684\u73FE\u8C61\u5708\u9078[\u662F]\uFF0C\u82E5\u4E0D\u7B26\u5408\u6216\u6C92\u6709\u8A72\u9805\u76EE\u63CF\u8FF0\u7684\u73FE\u8C61\u5708\u9078[\u5426]\u3002\r
\u2605\u8868\u793A\u70BA\u91CD\u8981\u6AA2\u6E2C\u984C\u76EE\uFF0C\u8ACB\u5BE6\u5730\u6E2C\u8A66\uFF0C\u518D\u7D00\u9304\u5152\u7AE5\u53CD\u61C9\u3002`)):y("",!0),t("form",{id:"form",onSubmit:M(B,["prevent"])},[v(t("select",{class:"form-control",id:"selectDistrict",name:"selectDistrict",onChange:b,"onUpdate:modelValue":u[1]||(u[1]=e=>c.value=e)},[(l(!0),a(F,null,A(i.value,(e,n,s)=>(l(),a("option",{value:n},m(e.title),9,I))),256))],544),[[w,c.value]]),t("table",K,[(l(!0),a(F,null,A(r.value.map((e,n)=>({value:e,index:n,id:`inspectionItem_ + ${n}`})),e=>(l(),a("div",{class:"row",key:e.index},[t("div",R,[t("tr",null,[t("td",P,m(e.index+1+"."),1),t("td",L,m(e.value.special?"\u2605":""),1),t("td",null,m(e.value.title),1)])]),t("div",Q,[t("tr",null,[t("td",X,[v(t("input",{type:"radio",id:e.id+"_1",name:"q_"+e.index,value:"true","onUpdate:modelValue":n=>_.value[e.index]=n,required:""},null,8,$),[[x,_.value[e.index]]]),t("label",{for:e.id+"_1"},"\u662F",8,G)]),t("td",J,[v(t("input",{type:"radio",id:e.id+"_0",name:"q_"+e.index,value:"false","onUpdate:modelValue":n=>_.value[e.index]=n,required:""},null,8,z),[[x,_.value[e.index]]]),t("label",{for:e.id+"_0"},"\u5426",8,W)])])])]))),128))]),t("button",{class:"btn btn-primary",type:"submit",disabled:h.value},[ee,h.value?(l(),a("span",te)):y("",!0)],8,Z)],40,N)],64))}}),se=E({__name:"KidView",setup(D){return(i,c)=>(l(),a("main",null,[S(ue)]))}});export{se as default};
//# sourceMappingURL=KidView.0bad7f02.js.map
