import{d as B,r as l,b as v,o as s,c as a,e as t,w as f,v as g,t as _,f as M,g as V,F,h as A,i as j,j as E,u as h}from"./index.f46b77c5.js";const k=t("label",null,"\u8ACB\u9078\u64C7\u60A8\u7684\u5BF6\u8C9D\u5E74\u9F61\u9032\u884C\u6AA2\u6E2C\uFF1A",-1),w=t("br",null,null,-1),U={class:"form-inline"},S=t("br",null,null,-1),q={key:0},K=["onSubmit"],Y=["value"],N={id:"mytable",class:"table table-striped table-sm"},O=t("thead",null,null,-1),I={class:"star"},R={class:"star"},$={class:"slist_radio"},L=["id","name","onUpdate:modelValue"],P=["for"],T={class:"slist_radio"},z=["id","name","onUpdate:modelValue"],G=["for"],H=t("input",{class:"btn btn-primary",type:"submit"},null,-1),X=B({__name:"KidForm",setup(J){const i=l({});fetch("monthRoot.json").then(o=>o.json()).then(o=>{i.value=o});const d=l(""),r=l([]);let c=l([]);function C(){c.value=[],fetch(d.value).then(o=>o.json()).then(o=>{r.value=o.inspectionItems;for(let u in r.value)r.value[u].title=r.value[u].title.replace(/\d+\.(.+)/,"$1")})}const m=l(v().format("YYYY-MM-DD")),b=l("");function y(){console.log(m.value);const u=v().diff(v(m.value))/(1e3*60*60*24);console.log("diffday = "+u);for(const e in i.value)i.value[e].min<=u&&i.value[e].max>=u&&(d.value=e,C());b.value=""+(u/30).toFixed(1)+"\u6708"}function D(o){o.preventDefault();const u=new FormData(o.target);let e={};if(u.forEach((n,p,Q)=>e[p]=n.toString()),console.log(e),Object.keys(e).length==0){alert("\u8ACB\u8F38\u5165\u8CC7\u6599");return}x(e)}function x(o){const u=new Parse.Object("KidFrom");for(const e in o)u.set(e,o[e]);u.save().then(e=>console.log("KidFrom created",e)).catch(e=>console.error("Error while creating KidFrom: ",e))}return(o,u)=>(s(),a(F,null,[t("div",null,[k,w,t("div",U,[f(t("input",{type:"date",class:"form-control","onUpdate:modelValue":u[0]||(u[0]=e=>m.value=e)},null,512),[[g,m.value]]),t("button",{type:"button",class:"btn btn-secondary",onClick:y},"\u78BA\u5B9A")]),S,t("label",null,"\u8A66\u7B97\u7D50\u679C\uFF1A"+_(b.value),1)]),d.value?(s(),a("pre",q,`    \u5152\u7AE5\u7B26\u5408\u8A72\u9805\u76EE\u63CF\u8FF0\u7684\u73FE\u8C61\u5708\u9078[\u662F]\uFF0C\u82E5\u4E0D\u7B26\u5408\u6216\u6C92\u6709\u8A72\u9805\u76EE\u63CF\u8FF0\u7684\u73FE\u8C61\u5708\u9078[\u5426]\u3002\r
    \u2605\u8868\u793A\u70BA\u91CD\u8981\u6AA2\u6E2C\u984C\u76EE\uFF0C\u8ACB\u5BE6\u5730\u6E2C\u8A66\uFF0C\u518D\u7D00\u9304\u5152\u7AE5\u53CD\u61C9\u3002`)):M("",!0),t("form",{id:"form",onSubmit:j(D,["prevent"])},[f(t("select",{class:"form-control",id:"selectDistrict",name:"selectDistrict",onChange:C,"onUpdate:modelValue":u[1]||(u[1]=e=>d.value=e)},[(s(!0),a(F,null,A(i.value,(e,n,p)=>(s(),a("option",{value:n},_(e.title),9,Y))),256))],544),[[V,d.value]]),t("table",N,[O,t("tbody",null,[(s(!0),a(F,null,A(r.value.map((e,n)=>({value:e,index:n,id:`inspectionItem_ + ${n}`})),e=>(s(),a("tr",{key:e.index},[t("th",I,_(e.index+1+"."),1),t("th",R,_(e.value.special?"\u2605":""),1),t("th",null,_(e.value.title),1),t("th",$,[f(t("input",{type:"radio",id:e.id+"_1",name:"q_"+e.index,value:"true","onUpdate:modelValue":n=>h(c)[e.index]=n,required:""},null,8,L),[[E,h(c)[e.index]]]),t("label",{for:e.id+"_1"},"\u662F",8,P)]),t("th",T,[f(t("input",{type:"radio",id:e.id+"_0",name:"q_"+e.index,value:"false","onUpdate:modelValue":n=>h(c)[e.index]=n,required:""},null,8,z),[[E,h(c)[e.index]]]),t("label",{for:e.id+"_0"},"\u5426",8,G)])]))),128))])]),H],40,K)],64))}});export{X as _};
