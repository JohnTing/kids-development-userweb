import{d as g,r as s,b as p,o as a,c as i,e as t,w as h,v as B,t as _,f as k,g as M,F,h as y,i as A,u as v,j as V}from"./index.bc4d36fa.js";const U=t("label",null,"\u8ACB\u9078\u64C7\u60A8\u7684\u5BF6\u8C9D\u5E74\u9F61\u9032\u884C\u6AA2\u6E2C\uFF1A",-1),S=t("br",null,null,-1),H={class:"form-inline"},Y=t("br",null,null,-1),j={key:0},w=["onSubmit"],O=["value"],T={id:"mytable",class:"table table-striped table-sm"},I=t("thead",null,null,-1),R={class:"star"},q={class:"star"},K={class:"slist_radio"},N=["id","name","onUpdate:modelValue"],P=["for"],Q={class:"slist_radio"},X=["id","name","onUpdate:modelValue"],G=["for"],L=t("input",{class:"btn btn-primary",type:"submit"},null,-1),W=g({name:"KidForm",setup($){const d=s({});fetch("monthRoot.json").then(o=>o.json()).then(o=>{d.value=o});const c=s(""),r=s([]);let m=s([]);function b(){m.value=[],fetch(c.value).then(o=>o.json()).then(o=>{r.value=o.inspectionItems;for(let u in r.value)r.value[u].title=r.value[u].title.replace(/\d+\.(.+)/,"$1")})}const f=s(p().format("YYYY-MM-DD")),C=s("");function E(){console.log(f.value);const u=p().diff(p(f.value))/(1e3*60*60*24);console.log("diffday = "+u);for(const e in d.value)d.value[e].min<=u&&d.value[e].max>=u&&(c.value=e,b());C.value=""+(u/30).toFixed(1)+"\u6708"}function D(o){o.preventDefault();const u=new FormData(o.target);let e={};u.forEach((n,l,J)=>e[l]=n.toString()),console.log(e),x(e)}function x(o){let u=new Headers;u.append("X-Parse-Application-Id","kYUbkvUsiOYbHlfGTekGVCsdoLgHXglAcQbaO57f"),u.append("X-Parse-REST-API-Key","HBi7YTskQm6k7AcUFIN3Rp5sH2FMKvHbRyfEyr4Q"),u.append("Content-Type","application/json");var e=JSON.stringify(o);fetch("https://kds.b4a.io/classes/KidFrom",{method:"POST",headers:u,body:e}).then(l=>l.text()).then(l=>console.log(l)).catch(l=>console.log("error",l))}return(o,u)=>(a(),i(F,null,[t("div",null,[U,S,t("div",H,[h(t("input",{type:"date",class:"form-control","onUpdate:modelValue":u[0]||(u[0]=e=>f.value=e)},null,512),[[B,f.value]]),t("button",{type:"button",class:"btn btn-secondary",onClick:E},"\u78BA\u5B9A")]),Y,t("label",null,"\u8A66\u7B97\u7D50\u679C\uFF1A"+_(C.value),1)]),c.value?(a(),i("pre",j,`    \u5152\u7AE5\u7B26\u5408\u8A72\u9805\u76EE\u63CF\u8FF0\u7684\u73FE\u8C61\u5708\u9078[\u662F]\uFF0C\u82E5\u4E0D\u7B26\u5408\u6216\u6C92\u6709\u8A72\u9805\u76EE\u63CF\u8FF0\u7684\u73FE\u8C61\u5708\u9078[\u5426]\u3002\r
    \u2605\u8868\u793A\u70BA\u91CD\u8981\u6AA2\u6E2C\u984C\u76EE\uFF0C\u8ACB\u5BE6\u5730\u6E2C\u8A66\uFF0C\u518D\u7D00\u9304\u5152\u7AE5\u53CD\u61C9\u3002`)):k("",!0),t("form",{id:"form",onSubmit:V(D,["prevent"])},[h(t("select",{class:"form-control",id:"selectDistrict",name:"selectDistrict",onChange:b,"onUpdate:modelValue":u[1]||(u[1]=e=>c.value=e)},[(a(!0),i(F,null,y(d.value,(e,n,l)=>(a(),i("option",{value:n},_(e.title),9,O))),256))],544),[[M,c.value]]),t("table",T,[I,t("tbody",null,[(a(!0),i(F,null,y(r.value.map((e,n)=>({value:e,index:n,id:`inspectionItem_ + ${n}`})),e=>(a(),i("tr",{key:e.index},[t("th",R,_(e.index+1+"."),1),t("th",q,_(e.value.special?"\u2605":""),1),t("th",null,_(e.value.title),1),t("th",K,[h(t("input",{type:"radio",id:e.id+"_1",name:"q_"+e.index,value:"true","onUpdate:modelValue":n=>v(m)[e.index]=n},null,8,N),[[A,v(m)[e.index]]]),t("label",{for:e.id+"_1"},"\u662F",8,P)]),t("th",Q,[h(t("input",{type:"radio",id:e.id+"_0",name:"q_"+e.index,value:"false","onUpdate:modelValue":n=>v(m)[e.index]=n},null,8,X),[[A,v(m)[e.index]]]),t("label",{for:e.id+"_0"},"\u5426",8,G)])]))),128))])]),L],40,w)],64))}});export{W as _};
