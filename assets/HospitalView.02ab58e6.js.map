{"version":3,"file":"HospitalView.02ab58e6.js","sources":["../../src/components/HospitalFrom.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport Papa from 'papaparse'\r\n\r\nimport { ref, type Ref } from 'vue'\r\n\r\ntype hospitalT = {\r\n\r\n    name: string,\r\n    number: number,\r\n    cap: number, \r\n    type: number\r\n}\r\n\r\nconst evaluationList: Ref<hospitalT[]> = ref([])\r\nconst hospitalList: Ref<hospitalT[]> = ref([])\r\n\r\n/*\r\nfetch(\"臺中市兒童發展評估單位名單.csv\").\r\nthen(value => value.text()).\r\nthen(text => {\r\n  const data = Papa.parse(text).data as Array<string>;\r\n  hospitalList.value = data.map((v) => { return {'name': v, 'number': NaN, 'cap': NaN} } );\r\n});*/\r\n\r\nfunction readData() {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"X-Parse-Application-Id\", \"kYUbkvUsiOYbHlfGTekGVCsdoLgHXglAcQbaO57f\");\r\n    myHeaders.append(\"X-Parse-REST-API-Key\", \"HBi7YTskQm6k7AcUFIN3Rp5sH2FMKvHbRyfEyr4Q\");\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: myHeaders\r\n    };\r\n\r\n    fetch(\"https://kds.b4a.io/classes/HospitalList/\", requestOptions)\r\n        .then(response => response.json() )\r\n        .then((value : {results : Array<hospitalT>}) => {\r\n            console.log(value.results);\r\n            evaluationList.value = value.results.filter(v => v.type == 0);\r\n            hospitalList.value = value.results.filter(v => v.type == 1);\r\n        })\r\n        .catch(error => console.log('error', error));\r\n}\r\n\r\nreadData();\r\n\r\n\r\nfunction registered(name: string) {\r\n console.log(\"掛號:\" + name)\r\n}\r\n\r\n\r\n</script>\r\n<template>\r\n    <br>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n    <table class=\"table .table-striped\">\r\n        <thead>\r\n            <tr>\r\n                <th>臺中市兒童發展聯合評估中心</th>\r\n                <th>人數</th>\r\n                <th>上限</th>\r\n                <th>掛號</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"(v, k, a) in evaluationList\">\r\n                <td>{{ v.name }}</td>\r\n                 <td>{{ v.number }}</td>\r\n                  <td>{{ v.cap }}</td>\r\n                  <td>\r\n                    <button class=\"btn btn-primary\" v-if=\"v.number < v.cap\" v-on:click=\"registered(v.name)\" >掛號</button>\r\n                    <button class=\"btn btn-secondary\" v-if=\"v.number >= v.cap\"  disabled>額滿</button>\r\n                  </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n    <table class=\"table .table-striped\">\r\n        <thead>\r\n            <tr>\r\n                <th>區域級以上醫療單位</th>\r\n                <th>人數</th>\r\n                <th>上限</th>\r\n                <th>掛號</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"(v, k, a) in hospitalList\">\r\n                <td>{{ v.name }}</td>\r\n                 <td>{{ v.number }}</td>\r\n                  <td>{{ v.cap }}</td>\r\n                  <td>\r\n                    <button class=\"btn btn-primary\" v-if=\"v.number < v.cap\" v-on:click=\"registered(v.name)\" >掛號</button>\r\n                    <button class=\"btn btn-secondary\" v-if=\"v.number >= v.cap\"  disabled>額滿</button>\r\n                  </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n</style>"],"names":[],"mappings":"m4BAaM,KAAA,GAAmC,EAAI,CAAA,CAAE,EACzC,EAAiC,EAAI,CAAA,CAAE,EAUzB,YAAA,CACV,KAAA,GAAY,GAAI,SACZ,EAAA,OAAO,yBAA0B,0CAA0C,EAC3E,EAAA,OAAO,uBAAwB,0CAA0C,EACzE,EAAA,OAAO,eAAgB,kBAAkB,EAO7C,MAAA,2CALiB,CACnB,OAAQ,MACR,QAAS,CAAA,CAGmD,EAC3D,KAAK,AAAA,GAAY,EAAS,KAAO,CAAA,EACjC,KAAK,AAAC,GAAyC,CACpC,QAAA,IAAI,EAAM,OAAO,EACzB,EAAe,MAAQ,EAAM,QAAQ,OAAO,AAAK,GAAA,EAAE,MAAQ,CAAC,EAC5D,EAAa,MAAQ,EAAM,QAAQ,OAAO,AAAK,GAAA,EAAE,MAAQ,CAAC,CAAA,CAC7D,EACA,MAAM,AAAA,GAAS,QAAQ,IAAI,QAAS,CAAK,CAAC,CACnD,CAES,IAGT,WAAoB,EAAc,CACzB,QAAA,IAAI,gBAAQ,CAAI,CACzB"}